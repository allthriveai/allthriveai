/* Import Inter font */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Hide reCAPTCHA badge - required disclosure is shown in forms */
.grecaptcha-badge {
  visibility: hidden !important;
}

/* Impersonation mode - shift fixed elements down when impersonation banner is shown */
body.impersonating {
  /* Shift the main nav down by the banner height (40px / 2.5rem) */
  --impersonation-offset: 2.5rem;
}

body:not(.impersonating) {
  --impersonation-offset: 0px;
}

/* =============================================================================
   CSS VARIABLES - Neon Glass Design System
   ============================================================================= */

@layer base {
  :root {
    /* === DARK THEME (Default) === */
    --bg-primary: #020617;
    --bg-secondary: #0f172a;
    --bg-tertiary: #1e293b;

    --text-primary: #f8fafc;
    --text-secondary: #94a3b8;
    --text-muted: #64748b;

    /* Neon Accents */
    --neon-cyan: #0EA5E9;
    --neon-teal: #22D3EE;
    --neon-bright: #4ADEE7;
    --neon-green: #4ade80;
    --neon-pink: #FB37FF;

    /* Primary Gradient - Cyan to Green */
    --gradient-primary: linear-gradient(135deg, #22d3ee, #4ade80);
    --gradient-primary-start: #22d3ee;
    --gradient-primary-end: #4ade80;

    /* Glass fills */
    --glass-fill: rgba(255, 255, 255, 0.08);
    --glass-fill-subtle: rgba(255, 255, 255, 0.05);
    --glass-fill-strong: rgba(255, 255, 255, 0.12);
    --glass-border: rgba(148, 163, 184, 0.35);
    --glass-border-subtle: rgba(255, 255, 255, 0.10);

    /* Neon Shadows */
    --shadow-neon: 0 0 20px rgba(34, 211, 238, 0.3), 0 0 10px rgba(34, 211, 238, 0.1);
    --shadow-neon-strong: 0 0 30px rgba(34, 211, 238, 0.5), 0 0 15px rgba(34, 211, 238, 0.3);
    --shadow-neon-pink: 0 0 20px rgba(251, 55, 255, 0.3), 0 0 10px rgba(251, 55, 255, 0.1);

    /* Component-specific */
    --input-bg: rgba(255, 255, 255, 0.05);
    --input-border: rgba(255, 255, 255, 0.10);
    --input-border-focus: rgba(34, 211, 238, 0.5);

    /* Semantic Colors */
    --success-light: #f0fdf4;
    --success: #10b981;
    --success-dark: #064e3b;
    --warning-light: #fffbeb;
    --warning: #f59e0b;
    --warning-dark: #78350f;
    --error-light: #fef2f2;
    --error: #f43f5e;
    --error-dark: #881337;
    --info-light: #f0f9ff;
    --info: #0ea5e9;
    --info-dark: #0c4a6e;

    /* Border Radius - Global 4px base */
    --radius-sm: 2px;
    --radius: 4px;
    --radius-md: 4px;
    --radius-lg: 4px;
    --radius-xl: 4px;
    --radius-2xl: 6px;
    --radius-3xl: 8px;

    /* === JEWEL TONES - Rich gemstone colors === */
    --jewel-sapphire: #0F52BA;
    --jewel-sapphire-light: #1a65d4;
    --jewel-sapphire-dark: #0a3d8a;

    --jewel-tanzanite: #4B0082;
    --jewel-tanzanite-light: #5c109a;
    --jewel-tanzanite-dark: #3a0066;

    --jewel-amethyst: #5a175d;
    --jewel-amethyst-light: #7a2080;
    --jewel-amethyst-dark: #420f44;

    --jewel-rose-quartz: #AA336A;
    --jewel-rose-quartz-light: #c44080;
    --jewel-rose-quartz-dark: #8a2856;

    --jewel-emerald: #046307;
    --jewel-emerald-light: #068009;
    --jewel-emerald-dark: #034a05;

    --jewel-morganite: #C46480;
    --jewel-morganite-light: #d4809a;
    --jewel-morganite-dark: #a85068;

    --jewel-jade: #00A86B;
    --jewel-jade-light: #00c47e;
    --jewel-jade-dark: #008c5a;

    --jewel-ruby: #9B111E;
    --jewel-ruby-light: #b81525;
    --jewel-ruby-dark: #7a0d18;

    --jewel-topaz: #E27D12;
    --jewel-topaz-light: #f59020;
    --jewel-topaz-dark: #c56a0e;

    --jewel-peridot: #5E8C31;
    --jewel-peridot-light: #72a63c;
    --jewel-peridot-dark: #4a7026;
  }

  /* === LIGHT THEME === */
  .light {
    --bg-primary: #f8fafc;
    --bg-secondary: #f1f5f9;
    --bg-tertiary: #e2e8f0;

    --text-primary: #0f172a;
    --text-secondary: #475569;
    --text-muted: #94a3b8;

    /* Adjusted accents for light mode */
    --neon-cyan: #0284c7;
    --neon-teal: #0891b2;
    --neon-bright: #06b6d4;
    --neon-pink: #db2777;

    /* Glass fills for light mode */
    --glass-fill: rgba(255, 255, 255, 0.70);
    --glass-fill-subtle: rgba(255, 255, 255, 0.50);
    --glass-fill-strong: rgba(255, 255, 255, 0.85);
    --glass-border: rgba(0, 0, 0, 0.08);
    --glass-border-subtle: rgba(0, 0, 0, 0.05);

    /* Softer shadows for light mode */
    --shadow-neon: 0 4px 20px rgba(14, 165, 233, 0.15), 0 2px 8px rgba(14, 165, 233, 0.1);
    --shadow-neon-strong: 0 8px 30px rgba(14, 165, 233, 0.25), 0 4px 12px rgba(14, 165, 233, 0.15);
    --shadow-neon-pink: 0 4px 20px rgba(219, 39, 119, 0.15), 0 2px 8px rgba(219, 39, 119, 0.1);

    /* Component-specific */
    --input-bg: rgba(255, 255, 255, 0.80);
    --input-border: rgba(0, 0, 0, 0.10);
    --input-border-focus: rgba(14, 165, 233, 0.5);
  }

  html {
    @apply scroll-smooth;
    color-scheme: dark;
  }

  html.light {
    color-scheme: light;
  }

  body {
    @apply antialiased font-sans overflow-x-hidden;
    color: var(--text-primary);
    min-height: 100vh;
  }

  /* Prevent iOS Safari from zooming in on form inputs when focused */
  /* iOS auto-zooms on inputs with font-size < 16px */
  @supports (-webkit-touch-callout: none) {
    input,
    textarea,
    select {
      font-size: 16px;
    }
  }

  /* Dark mode - Deep navy with subtle ambient light gradients */
  body:not(.light body) {
    background-color: #020617;
    background-image:
      /* Top-left soft cyan glow */
      radial-gradient(ellipse 80% 50% at 10% 20%, rgba(14, 165, 233, 0.12) 0%, transparent 50%),
      /* Top-right subtle teal shimmer */
      radial-gradient(ellipse 60% 40% at 85% 15%, rgba(34, 211, 238, 0.08) 0%, transparent 45%),
      /* Center-left faint accent */
      radial-gradient(ellipse 50% 80% at 5% 60%, rgba(56, 189, 248, 0.06) 0%, transparent 40%),
      /* Bottom-right warm glow */
      radial-gradient(ellipse 70% 50% at 90% 80%, rgba(14, 165, 233, 0.07) 0%, transparent 45%),
      /* Subtle center vertical gradient for depth */
      linear-gradient(180deg, #020617 0%, #0a1628 50%, #020617 100%);
    /* Using scroll attachment avoids white bars / repaint issues in nested scroll containers */
    background-attachment: scroll;
  }

  /* Light mode - Clean white/gray with soft colored accents */
  .light body {
    background-color: #f8fafc;
    background-image:
      /* Top-left soft blue glow */
      radial-gradient(ellipse 80% 50% at 10% 20%, rgba(14, 165, 233, 0.08) 0%, transparent 50%),
      /* Top-right subtle teal */
      radial-gradient(ellipse 60% 40% at 90% 10%, rgba(34, 211, 238, 0.06) 0%, transparent 45%),
      /* Bottom-left warm accent */
      radial-gradient(ellipse 50% 60% at 5% 85%, rgba(56, 189, 248, 0.05) 0%, transparent 40%),
      /* Subtle vertical gradient for depth */
      linear-gradient(180deg, #f8fafc 0%, #f1f5f9 50%, #f8fafc 100%);
    /* Avoid fixed attachment to prevent scroll artifacts / white bars */
    background-attachment: scroll;
  }

  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    @apply font-bold tracking-tight;
    color: var(--text-primary);
  }

  h1 {
    @apply text-4xl sm:text-5xl md:text-6xl;
  }

  h2 {
    @apply text-3xl sm:text-4xl md:text-5xl;
  }

  h3 {
    @apply text-xl sm:text-2xl md:text-3xl;
  }

  h4 {
    @apply text-lg sm:text-xl;
  }

  a {
    @apply transition-colors;
  }
}

/* =============================================================================
   COMPONENT LAYER - Reusable UI Components
   ============================================================================= */

@layer components {
  /* === GLASS SURFACES === */

  .glass-panel {
    @apply backdrop-blur-xl transition-all duration-300;
    border-radius: var(--radius);
    background-color: var(--glass-fill);
    border: 1px solid var(--glass-border);
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  }

  .glass-panel:hover {
    border-color: rgba(34, 211, 238, 0.4);
    box-shadow: var(--shadow-neon);
  }

  .light .glass-panel:hover {
    border-color: rgba(14, 165, 233, 0.3);
    box-shadow: 0 8px 30px rgba(14, 165, 233, 0.12);
  }

  .glass-card {
    @apply glass-panel p-6 md:p-8;
  }

  .glass-card:hover {
    border-color: rgba(34, 211, 238, 0.4);
    box-shadow: var(--shadow-neon);
  }

  .light .glass-card:hover {
    border-color: rgba(14, 165, 233, 0.3);
    box-shadow: 0 8px 30px rgba(14, 165, 233, 0.12);
  }

  .glass-subtle {
    @apply backdrop-blur-md transition-all duration-300;
    border-radius: var(--radius);
    background-color: var(--glass-fill-subtle);
    border: 1px solid var(--glass-border-subtle);
  }

  .glass-subtle:hover {
    border-color: rgba(34, 211, 238, 0.3);
    box-shadow: var(--shadow-neon);
  }

  .light .glass-subtle:hover {
    border-color: rgba(14, 165, 233, 0.25);
    box-shadow: 0 4px 20px rgba(14, 165, 233, 0.1);
  }

  .glass-strong {
    @apply backdrop-blur-2xl transition-all duration-300;
    border-radius: var(--radius);
    background-color: var(--glass-fill-strong);
    border: 1px solid var(--glass-border);
  }

  .glass-strong:hover {
    border-color: rgba(34, 211, 238, 0.4);
    box-shadow: var(--shadow-neon);
  }

  .light .glass-strong:hover {
    border-color: rgba(14, 165, 233, 0.3);
    box-shadow: 0 8px 30px rgba(14, 165, 233, 0.12);
  }

  /* Legacy glass class compatibility */
  .glass {
    @apply glass-panel;
  }

  .card {
    @apply glass-card;
  }

  .card-hover {
    @apply glass-card cursor-pointer;
  }

  .card-hover:hover {
    @apply transform -translate-y-1;
  }

  /* === NEON ELEMENTS === */

  .neon-border {
    border: 1px solid rgba(34, 211, 238, 0.5);
    box-shadow: var(--shadow-neon);
  }

  .light .neon-border {
    border-color: rgba(14, 165, 233, 0.4);
    box-shadow: var(--shadow-neon);
  }

  .glow-teal {
    box-shadow: 0 0 40px -10px rgba(34, 211, 238, 0.4);
  }

  .light .glow-teal {
    box-shadow: 0 0 30px -10px rgba(14, 165, 233, 0.25);
  }

  /* === TEXT STYLES === */

  .text-gradient {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #22d3ee, #4ade80);
  }

  .text-gradient-primary {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #22d3ee, #4ade80);
  }

  .text-gradient-cyan {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #22d3ee, #4ade80);
  }

  .light .text-gradient-cyan {
    background-image: linear-gradient(135deg, #0891b2, #059669);
  }

  .text-default {
    color: var(--text-primary);
  }

  .text-muted {
    color: var(--text-muted);
  }

  .text-secondary {
    color: var(--text-secondary);
  }

  /* === BUTTONS === */

  .btn {
    @apply inline-flex items-center justify-center font-medium transition-all duration-300;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    --tw-ring-color: rgba(34, 211, 238, 0.5);
    --tw-ring-offset-color: var(--bg-primary);
    border-radius: var(--radius);
    padding: 0.75rem 1.5rem;
  }

  .btn-sm {
    @apply text-sm;
    padding: 0.5rem 1rem;
    border-radius: var(--radius);
  }

  .btn-lg {
    @apply text-lg;
    padding: 1rem 2rem;
    border-radius: var(--radius);
  }

  .btn-primary {
    @apply btn font-semibold;
    background-image: linear-gradient(135deg, #22d3ee, #4ade80);
    color: #020617;
  }

  .btn-primary:hover {
    box-shadow: 0 0 20px rgba(34, 211, 238, 0.4), 0 0 10px rgba(74, 222, 128, 0.3);
    transform: scale(1.02);
  }

  .btn-primary:active {
    transform: scale(0.98);
  }

  .light .btn-primary {
    background-image: linear-gradient(135deg, #0891b2, #059669);
    color: #ffffff;
  }

  .btn-secondary {
    @apply btn backdrop-blur-md;
    background-color: var(--glass-fill);
    border: 1px solid var(--glass-border-subtle);
    color: var(--text-primary);
  }

  .btn-secondary:hover {
    background-color: var(--glass-fill-strong);
    border-color: rgba(34, 211, 238, 0.3);
    color: var(--neon-teal);
  }

  .light .btn-secondary:hover {
    border-color: rgba(14, 165, 233, 0.3);
    color: var(--neon-cyan);
  }

  .btn-outline {
    @apply btn bg-transparent;
    border: 1px solid rgba(34, 211, 238, 0.5);
    color: #22D3EE;
  }

  .btn-outline:hover {
    box-shadow: var(--shadow-neon);
    background-color: rgba(34, 211, 238, 0.1);
  }

  .light .btn-outline {
    border-color: rgba(14, 165, 233, 0.5);
    color: #0891b2;
  }

  .light .btn-outline:hover {
    background-color: rgba(14, 165, 233, 0.1);
  }

  .btn-ghost {
    @apply btn;
    background: transparent;
    color: var(--text-secondary);
  }

  .btn-ghost:hover {
    background-color: var(--glass-fill-subtle);
    color: var(--text-primary);
  }

  /* Danger button variant */
  .btn-danger {
    @apply btn font-semibold;
    background-image: linear-gradient(to right, #f43f5e, #e11d48);
    color: #ffffff;
  }

  .btn-danger:hover {
    box-shadow: 0 0 20px rgba(244, 63, 94, 0.4);
    transform: scale(1.02);
  }

  /* Success button variant */
  .btn-success {
    @apply btn font-semibold;
    background-image: linear-gradient(to right, #10b981, #059669);
    color: #ffffff;
  }

  .btn-success:hover {
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
    transform: scale(1.02);
  }

  /* === FORM INPUTS === */

  .input {
    @apply w-full transition-all duration-300;
    background-color: var(--input-bg);
    border: 1px solid var(--input-border);
    border-radius: var(--radius);
    padding: 0.75rem 1rem;
    color: var(--text-primary);
  }

  .input::placeholder {
    color: var(--text-muted);
  }

  .input:focus {
    @apply outline-none;
    background-color: var(--glass-fill-strong);
    border-color: var(--input-border-focus);
    box-shadow: var(--shadow-neon);
  }

  .light .input:focus {
    box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.15);
  }

  .input-glass {
    @apply input;
  }

  .input-error {
    border-color: var(--error) !important;
  }

  .input-error:focus {
    box-shadow: 0 0 0 3px rgba(244, 63, 94, 0.2) !important;
  }

  /* Labels */
  .label {
    @apply block text-sm font-medium mb-2;
    color: var(--text-secondary);
  }

  /* Textarea */
  textarea.input {
    @apply resize-none;
    min-height: 100px;
  }

  /* Select */
  select.input {
    @apply appearance-none cursor-pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
  }

  /* === BADGES === */

  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply badge;
    background-color: rgba(34, 211, 238, 0.2);
    color: #22D3EE;
    border: 1px solid rgba(34, 211, 238, 0.3);
  }

  .light .badge-primary {
    background-color: rgba(14, 165, 233, 0.15);
    color: #0284c7;
    border-color: rgba(14, 165, 233, 0.3);
  }

  .badge-success {
    @apply badge;
    background-color: rgba(16, 185, 129, 0.15);
    color: #10b981;
  }

  .light .badge-success {
    background-color: rgba(16, 185, 129, 0.1);
    color: #059669;
  }

  .badge-warning {
    @apply badge;
    background-color: rgba(245, 158, 11, 0.15);
    color: #f59e0b;
  }

  .light .badge-warning {
    background-color: rgba(245, 158, 11, 0.1);
    color: #d97706;
  }

  .badge-error {
    @apply badge;
    background-color: rgba(244, 63, 94, 0.15);
    color: #f43f5e;
  }

  .light .badge-error {
    background-color: rgba(244, 63, 94, 0.1);
    color: #e11d48;
  }

  .badge-info {
    @apply badge;
    background-color: rgba(14, 165, 233, 0.15);
    color: #0ea5e9;
  }

  .light .badge-info {
    background-color: rgba(14, 165, 233, 0.1);
    color: #0284c7;
  }

  /* === LINKS === */

  .link {
    @apply underline underline-offset-2 decoration-1;
    color: var(--neon-teal);
    text-decoration-color: rgba(34, 211, 238, 0.4);
  }

  .link:hover {
    text-decoration-color: var(--neon-teal);
  }

  .light .link {
    color: var(--neon-cyan);
    text-decoration-color: rgba(14, 165, 233, 0.4);
  }

  .light .link:hover {
    text-decoration-color: var(--neon-cyan);
  }

  /* === SHADOWS === */

  .shadow-neon {
    box-shadow: var(--shadow-neon);
  }

  .shadow-neon-strong {
    box-shadow: var(--shadow-neon-strong);
  }

  .shadow-brand {
    box-shadow: 0 4px 20px rgba(34, 211, 238, 0.15);
  }

  .shadow-brand-lg {
    box-shadow: 0 8px 40px rgba(34, 211, 238, 0.2);
  }

  .light .shadow-brand {
    box-shadow: 0 4px 20px rgba(14, 165, 233, 0.1);
  }

  .light .shadow-brand-lg {
    box-shadow: 0 8px 40px rgba(14, 165, 233, 0.15);
  }

  /* Glass shadows */
  .shadow-glass {
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  }

  .shadow-glass-lg {
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.2);
  }

  .shadow-glass-xl {
    box-shadow: 0 12px 50px rgba(0, 0, 0, 0.3);
  }

  /* === ACCENT DECORATIONS === */

  .circuit-connector {
    @apply absolute w-full h-[1px];
    background-image: linear-gradient(to right, transparent, rgba(34, 211, 238, 0.2), transparent);
  }

  .light .circuit-connector {
    background-image: linear-gradient(to right, transparent, rgba(14, 165, 233, 0.15), transparent);
  }

  .luminous-dot {
    @apply w-2 h-2 rounded-full;
    background-color: #22D3EE;
    box-shadow: var(--shadow-neon);
  }

  .light .luminous-dot {
    background-color: #0891b2;
    box-shadow: 0 0 10px rgba(14, 165, 233, 0.4);
  }

  /* === ALERTS === */

  .alert {
    @apply p-4 rounded-xl border;
  }

  .alert-success {
    @apply alert;
    background-color: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.3);
    color: #10b981;
  }

  .alert-warning {
    @apply alert;
    background-color: rgba(245, 158, 11, 0.1);
    border-color: rgba(245, 158, 11, 0.3);
    color: #f59e0b;
  }

  .alert-error {
    @apply alert;
    background-color: rgba(244, 63, 94, 0.1);
    border-color: rgba(244, 63, 94, 0.3);
    color: #f43f5e;
  }

  .alert-info {
    @apply alert;
    background-color: rgba(14, 165, 233, 0.1);
    border-color: rgba(14, 165, 233, 0.3);
    color: #0ea5e9;
  }

  /* === DIVIDERS === */

  .divider {
    @apply w-full h-px;
    background-color: var(--glass-border-subtle);
  }

  .divider-vertical {
    @apply h-full w-px;
    background-color: var(--glass-border-subtle);
  }

  /* === SKELETON LOADING === */

  .skeleton {
    @apply animate-pulse rounded-lg;
    background-color: var(--glass-fill-subtle);
  }

  /* === TOOLTIPS === */

  .tooltip {
    @apply absolute z-50 px-3 py-2 text-sm rounded-lg;
    background-color: var(--bg-tertiary);
    border: 1px solid var(--glass-border-subtle);
    color: var(--text-primary);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  }

  /* === DROPDOWN/MENU === */

  .dropdown-menu {
    @apply glass-panel p-2;
    min-width: 200px;
  }

  .dropdown-item {
    @apply flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors cursor-pointer;
    color: var(--text-secondary);
  }

  .dropdown-item:hover {
    background-color: var(--glass-fill-subtle);
    color: var(--text-primary);
  }

  .dropdown-item-active {
    background-color: rgba(34, 211, 238, 0.1);
    color: var(--neon-teal);
  }

  .light .dropdown-item-active {
    background-color: rgba(14, 165, 233, 0.1);
    color: var(--neon-cyan);
  }

  /* === TABS === */

  .tabs {
    @apply glass-subtle p-1 inline-flex;
    border-radius: var(--radius);
  }

  .tab {
    @apply px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300;
    color: var(--text-muted);
  }

  .tab:hover {
    color: var(--text-primary);
    background-color: var(--glass-fill-subtle);
  }

  .tab-active {
    background-color: rgba(34, 211, 238, 0.2);
    color: var(--neon-teal);
    border: 1px solid rgba(34, 211, 238, 0.3);
    box-shadow: var(--shadow-neon);
  }

  .light .tab-active {
    background-color: rgba(14, 165, 233, 0.15);
    color: var(--neon-cyan);
    border-color: rgba(14, 165, 233, 0.3);
  }

  /* === PROGRESS === */

  .progress {
    @apply w-full h-2 rounded-full overflow-hidden;
    background-color: var(--glass-fill-subtle);
  }

  .progress-bar {
    @apply h-full rounded-full transition-all duration-500;
    background-image: linear-gradient(to right, #0EA5E9, #22D3EE);
  }

  /* === AVATAR === */

  .avatar {
    @apply rounded-full overflow-hidden flex-shrink-0;
    background: linear-gradient(135deg, var(--neon-teal), var(--neon-pink));
  }

  .avatar-sm {
    @apply w-8 h-8;
  }

  .avatar-md {
    @apply w-10 h-10;
  }

  .avatar-lg {
    @apply w-12 h-12;
  }

  .avatar-xl {
    @apply w-16 h-16;
  }

  /* === ICON BUTTON === */

  .icon-btn {
    @apply p-3 rounded-xl transition-all duration-300;
    background-color: var(--glass-fill-subtle);
    border: 1px solid var(--glass-border-subtle);
    color: var(--text-secondary);
  }

  .icon-btn:hover {
    background-color: var(--glass-fill);
    border-color: rgba(34, 211, 238, 0.3);
    color: var(--text-primary);
  }

  .icon-btn-active {
    background-color: rgba(34, 211, 238, 0.2);
    border-color: rgba(34, 211, 238, 0.3);
    color: var(--neon-teal);
    box-shadow: var(--shadow-neon);
  }

  .light .icon-btn-active {
    background-color: rgba(14, 165, 233, 0.15);
    border-color: rgba(14, 165, 233, 0.3);
    color: var(--neon-cyan);
  }

  /* === ONBOARDING SHIMMER === */

  .onboarding-shimmer::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.12),
      transparent
    );
    animation: onboarding-shimmer 4s ease-in-out infinite;
    pointer-events: none;
  }

  @keyframes onboarding-shimmer {
    0% { left: -100%; }
    50% { left: 100%; }
    100% { left: 100%; }
  }
}

/* =============================================================================
   UTILITY LAYER - Additional Utilities
   ============================================================================= */

@layer utilities {
  /* Text shadow for neon glow on text */
  .text-shadow-neon {
    text-shadow: 0 0 10px rgba(34, 211, 238, 0.5);
  }

  .light .text-shadow-neon {
    text-shadow: 0 0 8px rgba(14, 165, 233, 0.3);
  }

  /* Grid pattern background */
  .bg-grid-pattern {
    background-size: 40px 40px;
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
                      linear-gradient(to bottom, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
  }

  .light .bg-grid-pattern {
    background-image: linear-gradient(to right, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
                      linear-gradient(to bottom, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
  }

  /* Gradient backgrounds */
  .bg-gradient-primary {
    background-image: linear-gradient(135deg, #22d3ee, #4ade80);
  }

  .bg-gradient-accent {
    background-image: linear-gradient(135deg, #22D3EE, #FB37FF);
  }

  .bg-gradient-dark {
    background-image: linear-gradient(135deg, #020617, #0f172a, #1e293b);
  }

  /* Blur utilities */
  .backdrop-blur-glass-sm {
    backdrop-filter: blur(8px);
  }

  .backdrop-blur-glass {
    backdrop-filter: blur(12px);
  }

  .backdrop-blur-glass-lg {
    backdrop-filter: blur(16px);
  }

  /* Scrollbar styling */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--glass-fill-strong) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--glass-fill-strong);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: var(--glass-border);
  }

  /* Hide scrollbar but keep scroll functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Selection color */
  .selection-cyan ::selection {
    background-color: rgba(34, 211, 238, 0.3);
  }

  .light .selection-cyan ::selection {
    background-color: rgba(14, 165, 233, 0.25);
  }

  /* Focus visible for accessibility */
  .focus-ring {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
    --tw-ring-color: rgba(34, 211, 238, 0.5);
    --tw-ring-offset-color: var(--bg-primary);
  }

  .light .focus-ring {
    --tw-ring-color: rgba(14, 165, 233, 0.5);
  }

  /* Truncate text utilities */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Safe area insets for mobile */
  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top);
  }
}

/* =============================================================================
   BRAND COLORS - Legacy Support & Additional
   ============================================================================= */

@layer components {
  /* Brand color backgrounds */
  .bg-brand-light { background-color: #F2F5FA; }
  .bg-brand-teal { background-color: #3bd4cb; }
  .bg-brand-cyan { background-color: #39bdd6; }
  .bg-brand-blue { background-color: #4991e5; }
  .bg-brand-dark { background-color: #080b12; }

  /* Primary scale */
  .bg-primary-100 { background-color: #ccfbf1; }
  .bg-primary-300 { background-color: #5eead4; }
  .bg-primary-500 { background-color: #14b8a6; }
  .bg-primary-700 { background-color: #0f766e; }
  .bg-primary-900 { background-color: #134e4a; }

  /* Accent scale */
  .bg-accent-100 { background-color: #dbeafe; }
  .bg-accent-300 { background-color: #93c5fd; }
  .bg-accent-400 { background-color: #60a5fa; }
  .bg-accent-600 { background-color: #2563eb; }
  .bg-accent-800 { background-color: #1e40af; }

  /* Semantic color scales */
  .bg-success-100 { background-color: #dcfce7; }
  .bg-success-500 { background-color: #22c55e; }
  .bg-success-950 { background-color: #052e16; }

  .bg-warning-100 { background-color: #fef3c7; }
  .bg-warning-500 { background-color: #f59e0b; }
  .bg-warning-950 { background-color: #451a03; }

  .bg-error-100 { background-color: #fee2e2; }
  .bg-error-500 { background-color: #ef4444; }
  .bg-error-950 { background-color: #450a0a; }

  .bg-info-100 { background-color: #e0f2fe; }
  .bg-info-500 { background-color: #0ea5e9; }
  .bg-info-950 { background-color: #082f49; }

  /* Text colors for semantic */
  .text-success-700 { color: #15803d; }
  .text-success-300 { color: #86efac; }
  .text-warning-700 { color: #a16207; }
  .text-warning-300 { color: #fcd34d; }
  .text-error-700 { color: #b91c1c; }
  .text-error-300 { color: #fca5a5; }
  .text-info-700 { color: #0369a1; }
  .text-info-300 { color: #7dd3fc; }
  .text-error-500 { color: #ef4444; }
}

/* =============================================================================
   ANIMATION CLASSES
   ============================================================================= */

@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-slide-down {
    animation: slideDown 0.3s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }

  .animate-gradient-flow {
    background-size: 200% 200%;
    animation: gradientFlow 8s ease infinite;
  }

  .bg-noise-subtle {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.4'/%3E%3C/svg%3E");
  }

  @keyframes gradientFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .animate-gradient-shift {
    animation: gradient-shift 8s ease infinite;
    background-size: 200% 200%;
  }

  @keyframes gradient-rotate {
    0% { background-position: 0% 50%; }
    25% { background-position: 50% 100%; }
    50% { background-position: 100% 50%; }
    75% { background-position: 50% 0%; }
    100% { background-position: 0% 50%; }
  }

  .animate-gradient-rotate {
    animation: gradient-rotate 6s ease infinite;
  }

  /* Gentle horizontal motion for SVG wave overlays on text-only project cards */
  @keyframes wave-slide {
    0% {
      transform: translateX(0);
    }
    50% {
      transform: translateX(-40px);
    }
    100% {
      transform: translateX(0);
    }
  }

  .animate-wave-slide {
    animation: wave-slide 16s linear infinite;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0) scale(1);
      opacity: 0.6;
    }
    50% {
      transform: translateY(-20px) scale(1.2);
      opacity: 1;
    }
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  /* Slide in from right - for toast notifications */
  @keyframes slideInRight {
    0% {
      transform: translateX(100%);
      opacity: 0;
    }
    100% {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slideOutRight {
    0% {
      transform: translateX(0);
      opacity: 1;
    }
    100% {
      transform: translateX(100%);
      opacity: 0;
    }
  }

  .animate-slide-in-right {
    animation: slideInRight 0.3s ease-out forwards;
  }

  .animate-slide-out-right {
    animation: slideOutRight 0.3s ease-in forwards;
  }
}

/* =============================================================================
   REDDIT PROSE - Enhanced Typography for Reddit Discussion Content
   ============================================================================= */

@layer components {
  .reddit-prose {
    @apply text-base leading-relaxed;
    color: rgba(255, 255, 255, 0.9);
  }

  /* Paragraphs - Generous spacing for readability */
  .reddit-prose p {
    @apply mb-5 leading-[1.8];
  }

  .reddit-prose p:last-child {
    @apply mb-0;
  }

  /* Headers - Clear hierarchy with jewel accent */
  .reddit-prose h1,
  .reddit-prose h2,
  .reddit-prose h3,
  .reddit-prose h4,
  .reddit-prose h5,
  .reddit-prose h6 {
    @apply font-bold tracking-tight text-white;
    margin-top: 2em;
    margin-bottom: 0.75em;
  }

  .reddit-prose h1 { @apply text-3xl; }
  .reddit-prose h2 { @apply text-2xl; }
  .reddit-prose h3 { @apply text-xl; }
  .reddit-prose h4 { @apply text-lg font-semibold; }

  .reddit-prose h1:first-child,
  .reddit-prose h2:first-child,
  .reddit-prose h3:first-child,
  .reddit-prose h4:first-child {
    margin-top: 0;
  }

  /* Blockquotes - Elegant quote styling with jewel accent */
  .reddit-prose blockquote {
    @apply relative my-6 py-4 px-6 italic;
    background: linear-gradient(135deg, rgba(15, 82, 186, 0.08), rgba(75, 0, 130, 0.08));
    border-left: 4px solid;
    border-image: linear-gradient(180deg, var(--jewel-sapphire), var(--jewel-tanzanite)) 1;
    border-radius: 0 var(--radius) var(--radius) 0;
  }

  .reddit-prose blockquote::before {
    content: '"';
    @apply absolute text-6xl font-serif opacity-20;
    top: -0.25rem;
    left: 0.75rem;
    color: var(--jewel-sapphire);
  }

  .reddit-prose blockquote p {
    @apply mb-0;
    color: rgba(255, 255, 255, 0.85);
  }

  .reddit-prose blockquote blockquote {
    @apply mt-4 ml-4;
    background: rgba(255, 255, 255, 0.03);
  }

  /* Lists - Clean styling with proper spacing */
  .reddit-prose ul,
  .reddit-prose ol {
    @apply my-5 pl-6 space-y-2;
  }

  .reddit-prose ul {
    list-style-type: none;
  }

  .reddit-prose ul li {
    @apply relative pl-5;
  }

  .reddit-prose ul li::before {
    content: 'â€¢';
    @apply absolute left-0 font-bold;
    color: var(--jewel-jade);
  }

  .reddit-prose ol {
    @apply list-decimal;
  }

  .reddit-prose ol li {
    @apply pl-1;
  }

  .reddit-prose ol li::marker {
    color: var(--jewel-jade);
    font-weight: 600;
  }

  .reddit-prose li {
    @apply leading-relaxed;
  }

  /* Nested lists */
  .reddit-prose li ul,
  .reddit-prose li ol {
    @apply mt-2 mb-0;
  }

  /* Links - Subtle underline with neon accent */
  .reddit-prose a {
    @apply font-medium transition-all duration-200;
    color: var(--neon-teal);
    text-decoration: underline;
    text-decoration-color: rgba(34, 211, 238, 0.4);
    text-underline-offset: 3px;
  }

  .reddit-prose a:hover {
    text-decoration-color: var(--neon-teal);
    text-shadow: 0 0 8px rgba(34, 211, 238, 0.3);
  }

  /* Inline code */
  .reddit-prose code:not(pre code) {
    @apply px-1.5 py-0.5 text-sm font-mono;
    background-color: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius);
    color: var(--neon-bright);
  }

  /* Code blocks */
  .reddit-prose pre {
    @apply my-6 p-5 overflow-x-auto text-sm font-mono;
    background-color: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: var(--radius);
  }

  .reddit-prose pre code {
    @apply p-0 bg-transparent border-0;
    color: rgba(255, 255, 255, 0.9);
  }

  /* Bold & Italic */
  .reddit-prose strong {
    @apply font-bold;
    color: white;
  }

  .reddit-prose em {
    @apply italic;
    color: rgba(255, 255, 255, 0.95);
  }

  /* Horizontal rules */
  .reddit-prose hr {
    @apply my-8 border-0 h-px;
    background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.15), transparent);
  }

  /* Tables */
  .reddit-prose table {
    @apply w-full my-6 text-sm;
    border-collapse: collapse;
  }

  .reddit-prose th {
    @apply px-4 py-3 text-left font-semibold;
    background-color: rgba(255, 255, 255, 0.05);
    border-bottom: 2px solid rgba(255, 255, 255, 0.1);
    color: white;
  }

  .reddit-prose td {
    @apply px-4 py-3;
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  }

  .reddit-prose tr:last-child td {
    border-bottom: none;
  }

  /* Images */
  .reddit-prose img {
    @apply rounded-lg my-6 max-w-full h-auto;
  }

  /* Strikethrough */
  .reddit-prose del,
  .reddit-prose s {
    @apply opacity-60 line-through;
  }

  /* Superscript (common in Reddit for footnotes) */
  .reddit-prose sup {
    @apply text-xs align-super;
    color: var(--neon-teal);
  }

  /* Reddit-specific: Spoiler text styling */
  .reddit-prose .spoiler,
  .reddit-prose .md-spoiler-text {
    @apply px-2 py-0.5 cursor-pointer transition-all duration-300;
    background-color: rgba(255, 255, 255, 0.9);
    color: transparent;
    border-radius: var(--radius);
  }

  .reddit-prose .spoiler:hover,
  .reddit-prose .md-spoiler-text:hover,
  .reddit-prose .spoiler.revealed,
  .reddit-prose .md-spoiler-text.revealed {
    background-color: transparent;
    color: rgba(255, 255, 255, 0.9);
  }
}

/* Light mode adjustments for Reddit prose */
@layer components {
  .light .reddit-prose {
    color: rgba(15, 23, 42, 0.9);
  }

  .light .reddit-prose h1,
  .light .reddit-prose h2,
  .light .reddit-prose h3,
  .light .reddit-prose h4,
  .light .reddit-prose h5,
  .light .reddit-prose h6 {
    color: #0f172a;
  }

  .light .reddit-prose blockquote {
    background: linear-gradient(135deg, rgba(15, 82, 186, 0.06), rgba(75, 0, 130, 0.04));
  }

  .light .reddit-prose blockquote p {
    color: rgba(15, 23, 42, 0.85);
  }

  .light .reddit-prose a {
    color: var(--neon-cyan);
    text-decoration-color: rgba(14, 165, 233, 0.4);
  }

  .light .reddit-prose a:hover {
    text-decoration-color: var(--neon-cyan);
  }

  .light .reddit-prose code:not(pre code) {
    background-color: rgba(0, 0, 0, 0.05);
    border-color: rgba(0, 0, 0, 0.1);
    color: #0891b2;
  }

  .light .reddit-prose pre {
    background-color: rgba(0, 0, 0, 0.03);
    border-color: rgba(0, 0, 0, 0.1);
  }

  .light .reddit-prose pre code {
    color: #0f172a;
  }

  .light .reddit-prose strong {
    color: #0f172a;
  }

  .light .reddit-prose em {
    color: rgba(15, 23, 42, 0.95);
  }

  .light .reddit-prose th {
    background-color: rgba(0, 0, 0, 0.03);
    border-color: rgba(0, 0, 0, 0.1);
    color: #0f172a;
  }

  .light .reddit-prose td {
    border-color: rgba(0, 0, 0, 0.06);
  }

  .light .reddit-prose sup {
    color: var(--neon-cyan);
  }
}

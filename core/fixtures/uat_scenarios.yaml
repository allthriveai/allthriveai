# =============================================================================
# AllThrive AI - UAT Scenarios Configuration
# =============================================================================
# This file contains UAT (User Acceptance Testing) scenarios, categories, and test runs.
#
# USAGE:
#   - Load scenarios: docker compose exec web python manage.py seed_uat_scenarios
#   - Export changes: docker compose exec web python manage.py export_uat_scenarios
#
# CONVENTIONS:
#   - Categories are referenced by slug (auto-generated from name if not provided)
#   - Scenarios are referenced by title in test_runs
#   - Testers are referenced by email
#   - Dates use ISO 8601 format (YYYY-MM-DD)
#   - Multi-line descriptions use YAML literal block style (|)
#   - result values: pass, fail, na
# =============================================================================

categories:
  - name: Authentication
    slug: auth
    color: blue
    order: 0
  - name: Projects
    slug: projects
    color: purple
    order: 1
  - name: Chat
    slug: chat
    color: green
    order: 2
  - name: Profile
    slug: profile
    color: orange
    order: 3
  - name: Admin
    slug: admin
    color: red
    order: 4

scenarios:
  # Authentication scenarios
  - title: User login with valid credentials
    category: auth
    description: |
      Test that users can log in with valid email and password.
      Expected: User is redirected to dashboard after successful login.
    order: 0

  - title: User login with invalid credentials
    category: auth
    description: |
      Test that login fails gracefully with invalid credentials.
      Expected: Error message displayed, no redirect.
    order: 1

  - title: User registration flow
    category: auth
    description: |
      Test the complete user registration workflow.
      Expected: User account created and welcome email sent.
    order: 2

  - title: Password reset flow
    category: auth
    description: |
      Test password reset via email link.
      Expected: User receives reset email and can set new password.
    order: 3

  - title: Social login (Google)
    category: auth
    description: |
      Test OAuth login with Google account.
      Expected: User can authenticate via Google and account is created/linked.
    order: 4

  # Project scenarios
  - title: Project creation flow
    category: projects
    description: |
      Test the complete project creation workflow.
      Expected: Project is created with all fields populated correctly.
    order: 10

  - title: Project editing
    category: projects
    description: |
      Test editing an existing project.
      Expected: Changes are saved and displayed correctly.
    order: 11

  - title: Project deletion
    category: projects
    description: |
      Test deleting a project.
      Expected: Project is removed and user is redirected.
    order: 12

  - title: Project sharing
    category: projects
    description: |
      Test sharing a project with other users.
      Expected: Shared users can view/edit based on permissions.
    order: 13

  # Chat scenarios
  - title: Chat WebSocket connection
    category: chat
    description: |
      Test that WebSocket connections establish correctly for chat.
      Expected: Connection opens, messages flow bidirectionally.
    order: 20

  - title: Chat message sending
    category: chat
    description: |
      Test sending messages in chat.
      Expected: Messages appear in real-time for all participants.
    order: 21

  - title: AI assistant response
    category: chat
    description: |
      Test AI assistant generates appropriate responses.
      Expected: AI responds within reasonable time with relevant content.
    order: 22

  # Profile scenarios
  - title: Profile update
    category: profile
    description: |
      Test updating user profile information.
      Expected: Changes are saved and reflected across the app.
    order: 30

  - title: Avatar upload
    category: profile
    description: |
      Test uploading a profile avatar image.
      Expected: Image is uploaded, resized, and displayed correctly.
    order: 31

  # Admin scenarios
  - title: Admin task creation
    category: admin
    description: |
      Test creating tasks in the admin task tracker.
      Expected: Task is created and appears in the correct column.
    order: 40

  - title: Admin user management
    category: admin
    description: |
      Test admin user management features.
      Expected: Can view, edit, and manage user accounts.
    order: 41

# Test runs are exported here when using export_uat_scenarios command
# Example:
# test_runs:
#   - scenario: User login with valid credentials
#     date_tested: "2024-01-15"
#     result: pass
#     tested_by: admin@example.com
#     notes: |
#       Tested on Chrome and Firefox.
#       All flows working as expected.
test_runs: []

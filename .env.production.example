# =============================================================================
# AllThrive AI - Production Environment Variables
# =============================================================================
# Copy this file to .env.production and fill in your values
# NEVER commit .env.production to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Core Django Settings
# -----------------------------------------------------------------------------
SECRET_KEY=  # Generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DEBUG=False
ALLOWED_HOSTS=allthrive.ai,www.allthrive.ai,api.allthrive.ai

# -----------------------------------------------------------------------------
# URLs and Domains
# -----------------------------------------------------------------------------
FRONTEND_URL=https://allthrive.ai
BACKEND_URL=https://api.allthrive.ai
SITE_URL=https://allthrive.ai
COOKIE_DOMAIN=.allthrive.ai  # Note: leading dot for subdomains

# -----------------------------------------------------------------------------
# CORS and CSRF (Critical for production security)
# -----------------------------------------------------------------------------
CORS_ALLOWED_ORIGINS=https://allthrive.ai,https://www.allthrive.ai
CSRF_TRUSTED_ORIGINS=https://allthrive.ai,https://www.allthrive.ai,https://api.allthrive.ai

# -----------------------------------------------------------------------------
# Database (PostgreSQL on AWS RDS)
# -----------------------------------------------------------------------------
POSTGRES_DB=allthrive_ai
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_HOST=  # e.g., your-db.xxxxx.us-east-1.rds.amazonaws.com
POSTGRES_PORT=5432
DATABASE_URL=  # postgresql://user:password@host:5432/dbname

# -----------------------------------------------------------------------------
# Redis (AWS ElastiCache or managed Redis)
# -----------------------------------------------------------------------------
REDIS_URL=  # redis://your-redis-host:6379
CELERY_BROKER_URL=  # redis://your-redis-host:6379/0
CELERY_RESULT_BACKEND=  # redis://your-redis-host:6379/0

# -----------------------------------------------------------------------------
# OAuth Providers (REQUIRED for login)
# -----------------------------------------------------------------------------

# Google OAuth - https://console.cloud.google.com/apis/credentials
# Callback URL: https://api.allthrive.ai/accounts/google/login/callback/
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth - https://github.com/settings/developers
# Callback URL: https://api.allthrive.ai/accounts/github/login/callback/
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# LinkedIn OAuth - https://www.linkedin.com/developers/apps
# Callback URL: https://api.allthrive.ai/accounts/linkedin_oauth2/login/callback/
LINKEDIN_OAUTH_CLIENT_ID=
LINKEDIN_OAUTH_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# Social Account Linking OAuth
# -----------------------------------------------------------------------------

# GitHub (for linking in settings) - can reuse same app as login
GITHUB_OAUTH_CLIENT_ID=
GITHUB_OAUTH_CLIENT_SECRET=

# GitLab OAuth - https://gitlab.com/oauth/applications
GITLAB_OAUTH_CLIENT_ID=
GITLAB_OAUTH_CLIENT_SECRET=

# Figma OAuth - https://www.figma.com/developers/apps
FIGMA_OAUTH_CLIENT_ID=
FIGMA_OAUTH_CLIENT_SECRET=

# Hugging Face OAuth - https://huggingface.co/settings/connected-applications
HUGGINGFACE_OAUTH_CLIENT_ID=
HUGGINGFACE_OAUTH_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# AI API Keys
# -----------------------------------------------------------------------------
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GOOGLE_API_KEY=

# Azure OpenAI (optional)
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# Fallback AI Provider (used when DEFAULT_AI_PROVIDER is not set)
FALLBACK_AI_PROVIDER=azure

# Default AI Provider (options: azure, openai, anthropic)
# Recommended to set this explicitly per environment (for example: openai)
DEFAULT_AI_PROVIDER=openai

# AI Cost Tracking
AI_COST_TRACKING_ENABLED=true
AI_MONTHLY_SPEND_LIMIT_USD=1000.0
AI_USER_DAILY_SPEND_LIMIT_USD=5.0

# -----------------------------------------------------------------------------
# LangSmith Observability (optional but recommended)
# -----------------------------------------------------------------------------
LANGSMITH_API_KEY=
LANGSMITH_PROJECT=allthrive-ai-production
LANGSMITH_ENDPOINT=https://api.smith.langchain.com
LANGSMITH_TRACING_ENABLED=true

# -----------------------------------------------------------------------------
# Stripe Payments
# -----------------------------------------------------------------------------
# Use LIVE keys for production (pk_live_, sk_live_)
STRIPE_PUBLIC_KEY=pk_live_
STRIPE_SECRET_KEY=sk_live_
STRIPE_WEBHOOK_SECRET=whsec_

# -----------------------------------------------------------------------------
# Email (AWS SES)
# -----------------------------------------------------------------------------
# AWS SES is configured via IAM role - no credentials needed here
# Optional: Set explicit SES credentials if not using IAM role
# AWS_SES_ACCESS_KEY_ID=
# AWS_SES_SECRET_ACCESS_KEY=
AWS_SES_REGION=us-east-1
DEFAULT_FROM_EMAIL=noreply@allthrive.ai
ADMIN_EMAIL=allie@allthrive.ai

# Invitation admin notification emails (comma-separated for multiple recipients)
INVITATION_ADMIN_EMAILS=allie@allthrive.ai,imnet4all@gmail.com

# -----------------------------------------------------------------------------
# reCAPTCHA v3 (bot protection)
# -----------------------------------------------------------------------------
RECAPTCHA_SECRET_KEY=

# -----------------------------------------------------------------------------
# GitHub API Token (for repo metadata fetching)
# -----------------------------------------------------------------------------
# Get from: https://github.com/settings/tokens (needs 'public_repo' scope)
GITHUB_API_TOKEN=

# -----------------------------------------------------------------------------
# S3 / Object Storage (AWS S3 or MinIO)
# -----------------------------------------------------------------------------
# For AWS S3:
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_STORAGE_BUCKET_NAME=allthrive-media
AWS_S3_REGION_NAME=us-east-1

# Or for MinIO-compatible storage:
# MINIO_ENDPOINT=your-minio-host:9000
# MINIO_ENDPOINT_PUBLIC=your-public-minio-host:9000
# MINIO_ACCESS_KEY=
# MINIO_SECRET_KEY=
# MINIO_USE_SSL=true
# MINIO_BUCKET_NAME=allthrive-media

# -----------------------------------------------------------------------------
# Sentry Error Tracking
# -----------------------------------------------------------------------------
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
